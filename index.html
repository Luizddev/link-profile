<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>alwards win's</title>
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.7.0/vanilla-tilt.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      color: #eee;
      padding: 20px;
      box-sizing: border-box;
    }
    
    .card {
      width: 360px;
      background: rgba(20,20,20,0.9);
      border-radius: 20px;
      padding: 28px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.6);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.1);
      position: relative;
      overflow: hidden;
    }
    
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, #5865f2, #57f287, #5865f2);
      opacity: 0.8;
    }
    
    .top {
      display: flex;
      align-items: center;
      gap: 18px;
      margin-bottom: 24px;
    }
    
    .avatar-wrapper {
      position: relative;
      width: 80px; 
      height: 80px;
    }
    
    .avatar {
      width: 100%; 
      height: 100%;
      border-radius: 50%;
      border: 3px solid #36393f;
      transition: border-color 0.3s ease;
    }
    
    .status-dot {
      position: absolute;
      bottom: 6px; 
      right: 6px;
      width: 18px; 
      height: 18px;
      border: 3px solid #2f3136;
      border-radius: 50%;
      background: #747f8d;
      transition: background-color 0.3s ease;
    }
    
    .user-info h1 { 
      font-size: 1.4rem; 
      margin: 0 0 4px 0; 
      font-weight: 600; 
      color: #ffffff;
    }
    
    .views { 
      opacity: 0.7; 
      font-size: 0.85rem; 
      margin-bottom: 2px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .username { 
      color: #b9bbbe; 
      font-size: 0.9rem; 
      font-weight: 500;
    }
    
    .sect { 
      margin-bottom: 24px; 
    }
    
    .sect h3 {
      font-size: 0.75rem;
      font-weight: 600;
      color: #8e9297;
      margin-bottom: 10px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .sect p {
      font-size: 0.95rem;
      color: #dcddde;
      line-height: 1.5;
      margin: 0;
    }
    
    .activity {
      display: flex;
      background: #36393f;
      padding: 16px;
      border-radius: 12px;
      border: 1px solid #40444b;
      transition: all 0.3s ease;
    }
    
    .activity:hover {
      background: #40444b;
      transform: translateY(-2px);
    }
    
    .activity img {
      width: 52px;
      height: 52px;
      border-radius: 8px;
      margin-right: 14px;
      object-fit: cover;
    }
    
    .act-info { 
      flex: 1; 
    }
    
    .act-info .act-title {
      font-size: 0.85rem;
      font-weight: 600;
      color: #1db954;
      margin-bottom: 2px;
    }
    
    .act-info .act-song {
      font-size: 0.9rem;
      color: #dcddde;
      margin-bottom: 8px;
      font-weight: 500;
    }
    
    .progress-bar {
      width: 100%;
      height: 4px;
      background: #4f545c;
      border-radius: 2px;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #1db954, #1ed760);
      transition: width 0.5s ease;
    }

    
    .btn-msg {
      margin-top: 20px;
      text-align: center;
      padding: 12px 16px;
      background: linear-gradient(135deg, #5865f2, #4752c4);
      border-radius: 8px;
      cursor: pointer;
      color: #ffffff;
      font-size: 0.9rem;
      font-weight: 600;
      transition: all 0.3s ease;
      border: none;
      width: 100%;
      box-sizing: border-box;
    }
    
    .btn-msg:hover { 
      background: linear-gradient(135deg, #4752c4, #3c4396);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(88, 101, 242, 0.3);
    }
    
    .loading {
      display: flex;
      align-items: center;
      gap: 8px;
      opacity: 0.7;
    }
    
    .spinner {
      width: 16px;
      height: 16px;
      border: 2px solid #40444b;
      border-top: 2px solid #5865f2;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .error {
      color: #ed4245;
      font-size: 0.85rem;
      text-align: center;
      padding: 10px;
      background: rgba(237, 66, 69, 0.1);
      border-radius: 6px;
      border: 1px solid rgba(237, 66, 69, 0.2);
    }
    
    .view-icon {
      width: 14px;
      height: 14px;
      opacity: 0.7;
    }
  </style>
</head>
<body>
  <div class="card" data-tilt>
    <div class="top">
      <div class="avatar-wrapper">
        <img src="https://cdn.discordapp.com/embed/avatars/0.png" class="avatar" id="avatar" alt="Avatar">
        <div class="status-dot" id="status-dot"></div>
      </div>
      <div class="user-info">
        <h1 id="name" class="loading">
          <div class="spinner"></div>
          Carregando...
        </h1>
        <div class="views" id="views">
          <svg class="view-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
          </svg>
          0 views
        </div>
        <div class="username" id="username">@...</div>
      </div>
    </div>

    <div class="sect">
      <h3>About Me</h3>
      <p id="about">too forgone</p>
    </div>



    <div class="sect">
      <h3>Activity</h3>
      <div class="activity" id="activity" style="display: none;">
        <img src="" id="album" alt="Album Art">
        <div class="act-info">
          <div class="act-title" id="activity-type">...</div>
          <div class="act-song" id="activity-details"></div>
          <div class="progress-bar">
            <div class="progress-fill" id="progress"></div>
          </div>
        </div>
      </div>
      <div id="no-activity" style="text-align: center; opacity: 0.7; font-size: 0.9rem;">
        Nenhuma atividade detectada
      </div>
    </div>

    <button class="btn-msg" id="message-btn">
      Enviar mensagem
    </button>
  </div>

  <script>
    // Inicializa o efeito tilt
    VanillaTilt.init(document.querySelectorAll("[data-tilt]"), {
      max: 8, 
      speed: 400, 
      glare: true, 
      "max-glare": 0.15,
      perspective: 1000
    });

    // Configuração
    const DISCORD_ID = "1167948636437622797";
    const LANYARD_URL = `https://api.lanyard.rest/v1/users/${DISCORD_ID}`;
    
    // Sistema de views usando localStorage como fallback para demonstração
    // Em produção, você substituiria por uma API real
    const VIEWS_KEY = 'discord_profile_views';
    
    function getViews() {
      try {
        return parseInt(localStorage.getItem(VIEWS_KEY)) || 7210;
      } catch {
        return 7210; // fallback se localStorage não estiver disponível
      }
    }
    
    function incrementViews() {
      try {
        const currentViews = getViews();
        const newViews = currentViews + 1;
        localStorage.setItem(VIEWS_KEY, newViews.toString());
        return newViews;
      } catch {
        return getViews() + Math.floor(Math.random() * 3) + 1;
      }
    }

    // Mapeamento de cores de status
    const STATUS_COLORS = {
      online: '#43b581',
      idle: '#faa61a', 
      dnd: '#f04747',
      offline: '#747f8d'
    };



    async function updateViews() {
      try {
        const viewCount = incrementViews();
        document.getElementById("views").innerHTML = `
          <svg class="view-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
          </svg>
          ${viewCount.toLocaleString()} views
        `;
      } catch (error) {
        console.error("Erro ao atualizar views:", error);
        // Fallback visual
        document.getElementById("views").innerHTML = `
          <svg class="view-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
          </svg>
          7210+ views
        `;
      }
    }



    async function updateProfile() {
      try {
        const response = await fetch(LANYARD_URL);
        
        if (!response.ok) {
          throw new Error(`HTTP ${response.status}`);
        }
        
        const { data, success } = await response.json();
        
        if (!success) {
          throw new Error("API retornou erro");
        }

        // Atualiza avatar
        const avatarUrl = data.discord_user.avatar 
          ? `https://cdn.discordapp.com/avatars/${data.discord_user.id}/${data.discord_user.avatar}.png?size=256`
          : `https://cdn.discordapp.com/embed/avatars/${data.discord_user.discriminator % 5}.png`;
        
        document.getElementById("avatar").src = avatarUrl;

        // Atualiza status
        const statusColor = STATUS_COLORS[data.discord_status] || STATUS_COLORS.offline;
        document.getElementById("status-dot").style.background = statusColor;
        document.getElementById("avatar").style.borderColor = statusColor;

        // Atualiza informações do usuário
        const displayName = data.discord_user.global_name || data.discord_user.username;
        document.getElementById("name").textContent = displayName;
        document.getElementById("username").textContent = `@${data.discord_user.username}`;

        // Atualiza atividade
        updateActivity(data);

        // Atualiza botão de mensagem
        document.getElementById("message-btn").onclick = () => {
          window.open(`https://discord.com/users/${DISCORD_ID}`, '_blank');
        };

      } catch (error) {
        console.error("Erro ao buscar dados do perfil:", error);
        document.getElementById("name").innerHTML = `
          <div class="error">
            Erro ao carregar perfil
          </div>
        `;
      }
    }

    function updateActivity(data) {
      const activityDiv = document.getElementById("activity");
      const noActivityDiv = document.getElementById("no-activity");
      
      // Verifica Spotify
      if (data.listening_to_spotify && data.spotify) {
        activityDiv.style.display = 'flex';
        noActivityDiv.style.display = 'none';
        
        document.getElementById("album").src = data.spotify.album_art_url || '';
        document.getElementById("activity-type").textContent = "Spotify";
        document.getElementById("activity-details").textContent = `${data.spotify.song} • ${data.spotify.artist}`;

        // Calcula progresso
        if (data.spotify.timestamps) {
          const start = data.spotify.timestamps.start;
          const end = data.spotify.timestamps.end;
          const now = Date.now();
          const progress = Math.min(100, Math.max(0, ((now - start) / (end - start)) * 100));
          document.getElementById("progress").style.width = `${progress}%`;
        }
        
        return;
      }
      
      // Verifica outras atividades
      if (data.activities && data.activities.length > 0) {
        const activity = data.activities[0];
        activityDiv.style.display = 'flex';
        noActivityDiv.style.display = 'none';
        
        document.getElementById("album").src = activity.assets?.large_image 
          ? `https://cdn.discordapp.com/app-assets/${activity.application_id}/${activity.assets.large_image}.png`
          : '';
        document.getElementById("activity-type").textContent = activity.name || 'Atividade';
        document.getElementById("activity-details").textContent = activity.details || activity.state || 'Em atividade';
        document.getElementById("progress").style.width = '0%';
        
        return;
      }
      
      // Nenhuma atividade
      activityDiv.style.display = 'none';
      noActivityDiv.style.display = 'block';
    }

    // Inicialização
    async function init() {
      // Incrementa views ao carregar a página
      await updateViews();
      await updateProfile();
      
      // Atualiza dados a cada 15 segundos
      setInterval(async () => {
        await updateProfile();
      }, 15000);
    }

    // Inicia quando a página carrega
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>